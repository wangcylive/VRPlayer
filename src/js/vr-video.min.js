!function(e){function t(){var e=navigator.userAgent.match(/TBS\/(\d+)/),t=navigator.userAgent.match(/MQQBrowser\/([\d\\.]+)/);return!!(e&&Number(e[1])>=36849||t&&Number(t[1])>=7.1)}function n(e){if(/^Animation(Start|Iteration|End)$/.test(e)){if("undefined"!=typeof AnimationEvent)return e.toLowerCase();if("undefined"!=typeof WebKitAnimationEvent)return"webkit"+e}}function i(){return"undefined"!=typeof TransitionEvent?"transitionend":"undefined"!=typeof WebKitTransitionEvent?"webkitTransitionEnd":void 0}function r(e){e="number"==typeof e?e:parseFloat(e);var t=function(e){return e>=10?e:"0"+e};if(isNaN(e))return"00:00";var n,i,r,o="";return e=Math.ceil(e),e>=3600?(n=parseInt(e/3600),i=parseInt(e%3600/60),r=e%60,o=n+":"+t(i)+":"+t(r)):e>=60?(i=parseInt(e/60),r=e%60,o=t(i)+":"+t(r)):o="00:"+t(e),o}function o(e){function t(e){return"-"+e.toLowerCase()}return e.indexOf("-")!==-1?e.toLowerCase():e.replace(/^[A-Z]/,function(e){return e.toLowerCase()}).replace(/^(webkit|moz|ms|o)/i,function(e){return"-"+e}).replace(/[A-Z]/g,t)}function a(e){if(e&&1===e.nodeType){var t,n=0,i=D("transform"),r=function(){n+=6,n>=360&&(n=0),e.style[i]="rotate("+n+"deg)",t=setTimeout(r,1e3/60)},o=function(){clearTimeout(t),r()},a=function(){clearTimeout(t)};return{start:o,stop:a}}}function s(e,t){return new s.fn.init(e,t)}var c=e(),l=window,u=document,f=u.body,d=c(l),h=c(u),p=c(f),v="1.3.0",m="vp-zoomOut",y="active",g="is-fullscreen",E="is-vr",w="is-mouseout",b="is-stalled",C="is-loading",T="is-playing",x="is-paused",M="is-ended",A="is-animation",F="is-error",k="is-load",R="is-ready",S=4e3,H=1e3,O=100,q=75,P=30,L=120,N=!1,j=["您的浏览器不支持WebGL","您的浏览器不支持陀螺仪","您的浏览器不支持全屏","视频加载失败"],z=["","视频加载中止","网络错误","视频解码错误","视频资源未找到或资源不可用"],W=["当前网速较慢，建议先暂停等待缓冲再播放","视频加载错误，点击重新加载<i></i>","视频播放完毕，点击重新播放<i></i>"],V=function(){var e=navigator.userAgent;return{mobile:/Mobile|Android|Symbian/i.test(e),android:/Android|Adr/i.test(e),ios:/iPhone|iPad|iPod/i.test(e),symbian:/Symbian/i.test(e),windowsPhone:/Windows Phone/i.test(e),blankBerry:/BB/i.test(e),weChat:/MicroMessenger/i.test(e),qq:/MQQBrowser/i.test(e),uc:/UCBrowser/i.test(e),chrome:/Chrome\/[\d\\.]+ Mobile Safari\/[\d\\.]+$/i.test(e),firefox:/Firefox/i.test(e),ie:/MSIE/i.test(e),ie11:/Trident\/7\.0/i.test(e),edge:/Edge/i.test(e)}}(),X=function(){for(var e,t=u.createElement("canvas"),n=["webgl","experimental-webgl"],i=0;i<n.length;i++)try{if(e=t.getContext(n[i]))break}catch(r){}return!!e}(),B=X;(V.android&&!V.chrome&&!V.firefox||V.ie||V.ie11)&&(B=!1,B=t()),l.requestAnimationFrame=l.requestAnimationFrame||l.mozRequestAnimationFrame||l.webkitRequestAnimationFrame||l.msRequestAnimationFrame,l.cancelAnimationFrame=l.cancelAnimationFrame||l.mozCancelAnimationFrame,c.createElem=function(e,t){if("string"==typeof e&&(e=c.trim(e))){var n=u.createElement(e);return"string"==typeof t&&(t=c.trim(t))&&(n.className=t),c(n)}};var D=function(){var e,t=["","-webkit-","-moz-","-ms-","-o-"],n=u.createElement("div"),i=n.style;return function(n){n=o(n);for(var r=0,a=t.length;r<a;r++)if(e="",e=t[r]?t[r]+n:n,e in i)return e}}(),$=function(){return!("undefined"==typeof AnimationEvent&&"undefined"==typeof WebKitAnimationEvent)}(),Y=(function(){return!("undefined"==typeof TransitionEvent&&"undefined"==typeof WebKitTransitionEvent)}(),function(){var e=!1;try{var t=u.createEvent("TouchEvent");t.initEvent("touchstart"),e=!0}catch(n){}return e}()),I=!1,Q=[];d.one("deviceorientation",function(e){for(I=!0,N=null!==e.alpha,s.fn.supportOrientation=N;Q.length;)Q.shift()(N)});var G=function(){function e(e){r&&"function"==typeof e&&(u.addEventListener(r,e,!1),h.push(e))}function t(){h.forEach(function(e){u.removeEventListener(r,e,!1)})}function n(){c?"function"==typeof s&&s.call(a):console.info("unable fullscreen")}function i(){"function"==typeof l&&l.call(u)}var r,o,a=u.documentElement,s=a.requestFullscreen||a.webkitRequestFullScreen||a.mozRequestFullScreen||a.msRequestFullscreen,c=u.fullscreenEnabled||u.webkitFullscreenEnabled||u.mozFullScreenEnabled||u.msFullscreenEnabled||!0,l=u.exitFullscroll||u.webkitCancelFullScreen||u.mozCancelFullScreen||u.msExitFullscreen,f=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],d=["fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement"];f.some(function(e){if("on"+e in u)return r=e}),d.some(function(e){if(e in u)return o=e});var h=[];return{on:e,off:t,request:n,exit:i,fullscreenElement:o}}(),K=function(){function e(e){"function"==typeof e&&(u.addEventListener(r,e,!1),o.push(e))}function t(){o.forEach(function(e){u.removeEventListener(r,e,!1)})}var n,i,r;void 0!==u.hidden?(n="hidden",r="visibilitychange",i="visibilityState"):void 0!==u.webkitHidden?(n="webkitHidden",r="webkitvisibilitychange",i="webkitVisibilityState"):void 0!==u.mozHidden?(n="mozHidden",r="mozvisibilitychange",i="mozVisibilityState"):void 0!==u.msHidden&&(n="msHidden",r="msvisibilitychange",i="msVisibilityState");var o=[];return{on:e,off:t,hidden:n,visibilityState:i}}(),U=D("transition"),Z=i(),_=n("AnimationEnd");s.jQuery=c,s.browser=V,s.fn=s.prototype={version:v,constructor:s,fullscreen:function(){var e=this.$main;return e&&(e.hasClass(g)?(G.exit(),e.removeClass(g)):(G.request(),e.addClass(g))),this},deviceOrientation:function(e){"function"==typeof e&&(I?e(N):Q.push(e))},setSrc:function(e){var t=this.$video;if(t){t.attr("src",e),this.$main.removeClass(F+" "+T).addClass(x),this.$main[0].querySelector(".message").innerHTML="";try{t[0].load(),t[0].pause(),t[0].currentTime=0,t.trigger("timeupdate")}catch(n){}}},destroy:function(){if("destroy"!==this.status){cancelAnimationFrame(this.vrRequestID),this.$video.off(),this.$video[0].src="";var e=this.$main;e.off(),h.off(),d.off(),K.off(),G.exit(),G.off(),e.find(".play, .pause, .vp-seek, .vp-play, .vp-timeline, .vp-ui, .vp-controls, .vr-fullscreen,.vp-stereo, .vp-orientation, .vp-exit-vr").off();var t=["video-player",g,w,b,C,T,x,M,A,F,k,R];e.empty().removeClass(t.join(" ")),this.status="destroy"}},toast:function(){function e(e){return i.text(e).show(),o=1,clearTimeout(n),n=setTimeout(function(){i.hide(),o=0},r)}function t(){o&&(clearTimeout(n),i.hide(),o=0)}var n,i=c("#vpToast"),r=4e3,o=0;return void 0===i[0]&&(i=c.createElem("div","vp-toast").attr("id","vpToast").hide(),p.append(i)),u.addEventListener("click",t,!0),u.addEventListener("touchend",t,!0),e}(),supportWebGL:X,supportVR:B,supportOrientation:N},s.fn.init=function(e,t){function n(){Je.play(),Se.off("click",n)}function i(){Se.addClass(b),je.text(W[0]),clearTimeout(nt),nt=setTimeout(function(){je.text(""),Se.removeClass(b)},5e3),He.off("stalled",i)}function o(e){e.wheelDeltaY?me.fov-=.05*e.wheelDeltaY:e.wheelDelta?me.fov-=.05*e.wheelDelta:e.detail&&(me.fov+=1*e.detail),me.fov=Math.min(L,Math.max(P,me.fov)),ie.fov=me.fov,ie.updateProjectionMatrix()}function s(){var t=e.clientWidth,n=e.clientHeight;return ie.aspect=t/n,ie.updateProjectionMatrix(),te.setSize(t,n),te.render(ne,ie),me}function l(t){Ae=0,Fe=e.clientWidth,ke=e.clientHeight;var n=t.targetTouches,i=n[0];if(1===n.length&&void 0===fe&&(ye=1,fe=i.identifier,we=ge,be=Ee,Ce=i.clientX,Te=i.clientY),2===n.length){ye=0;var r=n[0],o=n[1],a=Math.abs(r.clientX-o.clientX),s=Math.abs(r.clientY-o.clientY);de=Math.sqrt(Math.pow(a,2)+Math.pow(s,2)),he=ie.fov}}function f(e){e.preventDefault(),Ae=1;var t=e.targetTouches,n=e.changedTouches,i=n[0];if(fe===i.identifier&&ye&&(xe=Ce-i.clientX,Me=i.clientY-Te,ge=xe/ke*1.5*me.fov/q+we,Ee=Me/ke*1.5*me.fov/q+be),t.length>1){var r=t[0],o=t[1],a=Math.abs(r.clientX-o.clientX),s=Math.abs(r.clientY-o.clientY),c=Math.sqrt(Math.pow(a,2)+Math.pow(s,2))-de;me.fov=he-.2*c,me.fov=Math.min(L,Math.max(P,me.fov)),ie.fov=me.fov,ie.updateProjectionMatrix()}}function p(e){var t=e.targetTouches,n=t[0],i=e.changedTouches,r=i[0];fe===r.identifier&&(ye=0,fe=void 0),1===t.length&&(ye=1,fe=n.identifier,we=ge,be=Ee,Ce=n.clientX,Te=n.clientY)}function v(t){ye=1,Ae=0,we=ge,be=Ee,Ce=t.clientX,Te=t.clientY,Fe=e.clientWidth,ke=e.clientHeight}function V(e){e.preventDefault(),Ae=1,ye&&(xe=Ce-e.clientX,Me=e.clientY-Te,ge=xe/ke*1.5*me.fov/q+we,Ee=Me/ke*1.5*me.fov/q+be)}function X(e){ye=0}function D(){clearTimeout(pe),ve=0,Ze.show(),setTimeout(function(){Ze.css(U,"all .4s").css("opacity",1)},10),pe=setTimeout(function(){Ze.css(U,"all .6s").css("opacity",0),ve=1},4e3)}function I(){return me.isVRView=1,te=oe,G.request(),N&&(ue.connect(),me.isOrientation=1),Se.addClass(E),Ze.show(),clearTimeout(pe),pe=setTimeout(function(){Ze.css(U,"all .6s").css("opacity",0),ve=1},3e3),Se.on("click",D),s(),me}function Q(){return me.isVRView=0,te=re,G.exit(),Se.removeClass(E),clearTimeout(pe),Ze.hide(),Se.off("click",D),Ke.removeClass(y),s(),me}function J(){return N?(me.isOrientation?(ue.disconnect(),_e.removeClass(y)):(ue.connect(),_e.addClass(y)),me.isOrientation=!me.isOrientation):me.toast(j[1]),me}if(!e||1!==e.nodeType)throw new Error("first argument must be Element");if(!t||"string"!=typeof t.src)throw new Error("second argument must be Object and attribute src must be String");t="object"==typeof t?t:{};var ee={vr:!0};!function(){var e;for(e in t)t.hasOwnProperty(e)&&(ee[e]=t[e])}();var te,ne,ie,re,oe,ae,se,ce,le,ue,fe,de,he,pe,ve,me=this,ye=0,ge=0,Ee=0,we=0,be=0,Ce=0,Te=0,xe=0,Me=0,Ae=!1,Fe=e.clientWidth,ke=e.clientHeight,Re=ee.vr;B&&"object"==typeof THREE||(Re=!1),me.isVR=Re;var Se=c(e),He=c.createElem("video","vp-video"),Oe=c.createElem("div","vp-ratio"),qe=c.createElem("div","vp-ui"),Pe=c.createElem("div","play"),Le=c.createElem("div","pause"),Ne=c.createElem("div","waiting"),je=c.createElem("div","message"),ze=c.createElem("div","vp-controls"),We=c.createElem("div","vp-timeline"),Ve=c.createElem("div","vp-buffer"),Xe=c.createElem("div","vp-elapsed"),Be=c.createElem("div","vp-seek"),De=c.createElem("div","vp-seek-time"),$e=c.createElem("div","vp-handle"),Ye=c.createElem("button","vp-play"),Ie=c.createElem("div","vp-time"),Qe=c.createElem("span","vp-current"),Ge=c.createElem("span","vp-duration"),Ke=c.createElem("button","vr-fullscreen"),Ue=c.createElem("button","vp-stereo"),Ze=c.createElem("div","vp-exit-vr"),_e=c.createElem("button","vp-orientation");He.attr({preload:"none","webkit-playsinline":"",playsinline:"","x-webkit-airplay":"allow","x5-video-player-type":"h5","x5-video-player-fullscreen":"true"}),ee.autoplay&&He.attr("autoplay",!0),He.attr("src",ee.src),ee.ratio&&Oe.css("padding-top",100*ee.ratio+"%"),Se.addClass("video-player").append(Oe),"string"==typeof ee.poster&&(ee.poster=c.trim(ee.poster))&&Se.css("background-image","url("+ee.poster+")"),Ne.html('<i class="icon-loading vp-rotate"></i>'),qe.append(Pe).append(Le).append(Ne).append(je),Se.append(qe),Xe.append(Be),We.append(Ve).append(Xe).append(De),Ie.append(Qe).append("/").append(Ge),ze.append(We).append($e),$e.append(Ye).append(Ie),Se.append(ze);var Je=He[0];if("function"!=typeof Je.canPlayType)return Se.addClass(F),je.html("您的浏览器不支持html5 video！"),this;me.$video=He,me.$main=Se,Qe.text("00:00"),Ge.text("00:00"),Re?(He.attr("crossorigin","anonymous"),$e.append(_e).append(Ke).append(Ue),Se.append(Ze),Ze.text("退出VR视角"),this.fov=q,this.isVRView=0,this.isOrientation=0):(Se.append(He),$e.append(Ke)),ee.src&&He.attr("src",ee.src);var et,tt=0;$||(et=a(Ne[0].childNodes[0]));var nt,it,rt,ot,at=function(){function e(){clearTimeout(n),Se.removeClass(w)}function t(){clearTimeout(n),n=setTimeout(function(){Je.paused||"destroy"===me.status||Se.addClass(w)},S)}var n;return{clear:e,set:t}}(),st=function(){function e(){clearTimeout(n),De.show()}function t(){clearTimeout(n),n=setTimeout(function(){De.hide()},H)}var n;return{clear:e,set:t}}(),ct=1,lt=We[0].getBoundingClientRect(),ut=function(){var e=0;return function(t){if(t.preventDefault(),e++,0===e%2){at.clear();var n="touchmove"===t.type?t.targetTouches[0].clientX:t.clientX,i=n-it;ot=i/lt.width*100+rt,ot<0?ot=0:ot>100&&(ot=100),Xe.css("width",ot+"%");var o=r(Je.duration*ot/100);Qe.text(o),De.text(o),st.clear();var a=De[0].offsetWidth,s=lt.width*ot/100-a/2;s<0?s=0:s>lt.width-a&&(s=lt.width-a),De.css("left",s+"px")}}}(),ft=function(){var e=0;return function(t){if(t.preventDefault(),ct&&(e++,0===e%2)){var n=t.clientX-lt.left;n<0?n=0:n>lt.width&&(n=lt.width);var i=n/lt.width;De.text(r(Je.duration*i)),De.show();var o=De[0].offsetWidth,a=t.clientX-lt.left-o/2;a<0?a=0:a>lt.width-o&&(a=lt.width-o),De.css("left",a+"px")}}}(),dt=0;if(He.on("error",function(){var e=this,t=e.error.code;Se.removeClass("is-loading is-playing is-paused is-stalled").addClass(F),1===t||2===t?(Se.addClass(k),je.html(W[1]),qe.one("click",function(){e.pause(),e.load(),e.play(),je.html(""),Qe.text("00:00"),Ve.css("width","0%"),Xe.css("width","0%"),Se.removeClass(F+" "+k)})):je.html(z[t])}).on("ended",function(){var e=this;e.pause(),Se.addClass(M),je.html(W[2]),qe.one("click",function(){e.play()}),He.one("play",function(){je.html(""),Qe.text("00:00"),Ve.css("width","0%"),Xe.css("width","0%"),Se.removeClass(M)})}).on("durationchange",function(){var e=this.duration;me.duration=e,Ge.text(r(e))}).on("loadedmetadata",function(){var e=this.duration;Ge.text(r(e)),me.duration=e}).on("loadeddata",function(){this.controls=!1,me.readyState=this.readyState}).one("play",function(){Se.off("click",n),$?Se.addClass(A+" "+C):(Pe.hide(),Se.addClass(C),et.start()),He.one("timeupdate",function(){tt=1,Se.removeClass(C).addClass(R+" "+T),$||et.stop(),at.set()})}).on("waiting",function(){Se.addClass(C),$||et.start()}).on("progress",function(){var e,t,n=this.buffered,i=n.length,r=Je.currentTime,o=0;if(i>0)for(o;o<i;o++)if(e=n.start(o),t=n.end(o),r>=e&&r<=t){Ve.css("width",n.end(o)/me.duration*100+"%");break}}).on("timeupdate",function(){if(tt&&ct){var e=this.currentTime;Qe.text(r(e)),Xe.css("width",(e/Je.duration*100||0)+"%")}}).on("playing",function(){tt&&(Se.removeClass(C).addClass(T),He.on("stalled",i),$||(Pe.hide(),et.stop()))}).on("seeking",function(){Se.addClass(C),$||et.start()}).on("seeked",function(){Se.removeClass(C),$||et.stop(),this.paused||Se.addClass(T)}).on("play",function(){Se.removeClass(x),$&&(dt=1,Pe.show().addClass(m),Se.addClass(A),Le.hide())}).on("pause",function(){tt?(Se.addClass(x).removeClass(T),this.ended||($?(dt=2,Le.show().addClass(m),Se.addClass(A),Pe.hide()):Pe.show())):(Se.removeClass(A+" "+C),Pe.show().removeClass(m),He.one("play",function(){$?Se.addClass(A+" "+C):(Pe.hide(),Se.addClass(C),et.start())}),Se.on("click",n))}),Se.on("click",n),Ye.on("click",function(){Je.error||(Je.paused?Je.play():Je.pause())}),Pe.on(_,function(){1===dt&&(Pe.hide().removeClass(m),Se.removeClass(A),!tt&&Je.paused&&Pe.show(),dt=0)}),Le.on(_,function(){2===dt&&(Le.hide().removeClass(m),Se.removeClass(A),dt=0)}),Be.on("mousedown",function(e){ct=0,it=e.clientX,ot=void 0;var t=Xe[0].style.getPropertyValue("width");rt=t?parseFloat(t):0,lt=We[0].getBoundingClientRect(),h.on("mousemove",ut).one("mouseup",function(){ct=1,void 0!==ot&&(Je.currentTime=Je.duration*ot/100),at.set(),st.set(),h.off("mousemove",ut)})}).on("touchstart",function(e){ct=0,it=e.targetTouches[0].clientX;var t=Xe[0].style.getPropertyValue("width");rt=t?parseFloat(t):0,lt=We[0].getBoundingClientRect(),h.on("touchmove",ut).one("touchend",function(){ct=1,Je.currentTime=Je.duration*ot/100,at.set(),st.set(),h.off("touchmove",ut)})}),We.on("click",function(e){var t=this.getBoundingClientRect(),n=(e.clientX-t.left)/this.offsetWidth;Xe.css("width",100*n+"%");var i=Je.duration*n,o=r(i);Qe.text(o),De.text(o),Je.currentTime=i,st.clear();var a=De[0].offsetWidth,s=e.clientX-t.left-a/2;s<0?s=0:s>t.width-a&&(s=t.width-a),De.css("left",s+"px"),st.set()}),Y||(We.on("mouseover",function(){lt=this.getBoundingClientRect()}).on("mouseout",function(){ct&&De.hide()}),We.on("mousemove",ft)),K.on(function(){u[K.hidden]&&(Je.pause(),Se.removeClass(w))}),Y||Se.on("mousemove",function(){at.clear(),at.set()}),Y?(qe.on("click",function(){Je.error||Ae||(Je.paused?(Se.removeClass(w),Je.play()):Se.hasClass(w)?Se.removeClass(w):Je.pause(),tt&&at.set())}),ze.on("touchstart",function(){at.clear(),at.set()})):qe.on("click",function(){Je.error||Ae||(Je.paused?Je.play():Je.pause())}),Ke.on("click",function(){Se.hasClass(g)?(G.exit(),Se.removeClass(g),Ke.removeClass(y)):(G.request(),Se.addClass(g),Ke.addClass(y)),Re&&s()}),G.on(function(){u[G.fullscreenElement]!==u.documentElement&&(Se.removeClass(g),Ke.removeClass(y)),Re&&s()}),Ze.on(Z,function(){1===ve&&(Ze.hide(),ve=0)},!1),Re){te=re=new THREE.WebGLRenderer,oe=new THREE.StereoEffect(te),ie=new THREE.PerspectiveCamera(me.fov,e.clientWidth/e.clientHeight,1,1e3),ue=new THREE.DeviceOrientationControls(ie),ne=new THREE.Scene,le=new THREE.Texture(Je),le.generateMipmaps=!1,le.minFilter=THREE.LinearFilter,le.format=THREE.RGBAFormat,ce=new THREE.MeshBasicMaterial({map:le}),se=new THREE.SphereBufferGeometry(O,60,60),se.scale(-1,1,1),ae=new THREE.Mesh(se,ce),ne.add(ae),te.setClearColor(6710886),te.setPixelRatio(window.devicePixelRatio||1),te.setSize(e.clientWidth,e.clientHeight),me.canvas=te.domElement,c(me.canvas).addClass("vp-video"),Se.append(me.canvas),te.render(ne,ie),d.on("resize",s),qe.on("mousedown",v).on("touchstart",l).on("mousemove",V).on("touchmove",f),qe.on("mouseup mouseout touchcancel",X).on("touchend",p),Ue.on("click",I),_e.on("click",J),Ze.on("click",Q),Se.on("mousewheel MozMousePixelScroll",o);var ht=function(){Ee=Math.max(-Math.PI/2,Math.min(Math.PI/2,Ee));var e=O*Math.cos(ge)*Math.cos(Ee),t=O*Math.sin(Ee),n=O*Math.sin(ge)*Math.cos(Ee),i=new THREE.Vector3(e,t,n);Je.readyState>=Je.HAVE_CURRENT_DATA&&(le.needsUpdate=!0),me.isOrientation?ue.update():ie.lookAt(i),te.render(ne,ie),me.vrRequestID=requestAnimationFrame(ht)};He.one("play",ht),me.resize=s,me.requestStereo=I,me.exitStereo=Q,me.changeOrientation=J}},s.prototype.init.prototype=s.prototype,"function"==typeof define&&define.amd?define(["three","three-extend"],function(){return s}):"object"==typeof exports?module.exports=s:window.videoVR=s}(function(){function e(e){return e.hasOwnProperty(c)||Object.defineProperty(e,c,{value:++l}),e[c]}function t(e,t){if(e.hasOwnProperty(c)){var n=e[c],i=u[t];if(i&&(i=i.filter(function(e){return e.guid===n}),i.length>0))return i}return[]}function n(e,t){var n=[];return t=t||{bubbles:!1,cancelable:!1,detail:null},"string"==typeof e&&(e=a.trim(e))&&(e=e.split(/\s+/),e.forEach(function(e){n.push(new CustomEvent(e,t))})),n}function i(e){var t=this;u[e.type]&&u[e.type].filter(function(e){return e.guid===t[c]}).forEach(function(n){if(null==n.selector)n.handler.call(t,e);else{var i=[];try{i=p.slice.call(t.querySelectorAll(n.selector),0)}catch(r){}for(var o=e.target;o!==t;)-1!==i.indexOf(o)&&n.handler.call(o,e),o=o.parentNode}})}function r(e,t){for(var n,i,r,s=0;s<e.length;s++)n=e[s],i=n.style,r=n.nodeName,t?(i.display="",a.isHidden(n)?f.hasOwnProperty(r)?i.display=f[r]:i.display=f[r]=o(n.nodeName):f[r]=a.css(n,"display")):a.isHidden(n)||(f[r]=a.css(n,"display"),i.display="none")}function o(e){var t=document.createElement(e);document.body.appendChild(t);var n=a.css(t,"display");return document.body.removeChild(t),n}var a=function(e){return new a.fn.init(e)},s="1.3.0",c="JQ"+(s+Math.random()+"").replace(/\D/g,""),l=0;a.expando=c,a.version=s;var u={},f={};!function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}return"function"!=typeof window.CustomEvent&&(e.prototype=window.Event.prototype,void(window.CustomEvent=e))}();var d=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,h=Object.prototype.toString,p=Array.prototype;return a.css=function(e,t){if(e&&1===e.nodeType)return window.getComputedStyle(e,null)[t]},a.isHidden=function(e){return"none"===a.css(e,"display")},a.trim=function(e){return null==e?"":(e+"").replace(d,"")},a.isArray=function(e){return Array.isArray(e)},a.arrayFrom=function(e){return Array.from?Array.from(e):Array.prototype.slice.call(e,0)},a.isObject=function(e){return"[object Object]"===h.call(e)},a.fn=a.prototype={constructor:a,eq:function(e){if("number"==typeof e){var t=this[e];return a.fn.init(t)}return this},first:function(){return a.fn.eq.call(this,0)},last:function(){var e=this.length-1;return a.fn.eq.call(this,e)},append:function(e){var t=document.createDocumentFragment();return e instanceof a||/^\[object (NodeList|HTMLCollection)]$/.test(h.call(e))?this.last()[0]&&(p.slice.call(e).forEach(function(e){t.appendChild(e)}),this.last()[0].appendChild(t)):"string"==typeof e?this.each(function(t){t.appendChild(document.createTextNode(e))}):1!==e.nodeType&&11!==e.nodeType||this.last()[0]&&this.last()[0].appendChild(e),t=null,this},attr:function(e,t){if(a.isObject(e))this.each(function(t){for(var n in e)if(e.hasOwnProperty(n))try{t.setAttribute(n,e[n])}catch(i){}});else if("string"==typeof e&&(e=a.trim(e))){if(arguments.length<=1){var n=this.first()[0];return n?n.getAttribute(e):null}this.each(function(n){n.setAttribute(e,t+"")})}return this},prop:function(e,t){if(a.isObject(e))this.each(function(t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])});else if("string"==typeof e&&(e=a.trim(e))){if(arguments.length<=1){var n=this.first()[0];return n?n[e]:null}this.each(function(n){n[e]=t})}return this},css:function(e,t){if(a.isObject(e))this.each(function(t){for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n])});else if("string"==typeof e&&(e=a.trim(e))){if(1===arguments.length){var n=this.first()[0];return a.css(n,e)}arguments.length>=2&&this.each(function(n){n.style[e]=t})}return this},each:function(e){var t=this.length;if(t>0&&"function"==typeof e){var n,i=0;for(i;i<t;i++)n=this[i],e.call(n,n,i)}return this},on:function(n,r,o,s){var c=this;if(null==o&&(o=r,r=void 0),!o)return this;o.hasOwnProperty("guid")||(o.guid=++l);var f=a.trim(n).split(/\s+/);return f.length>0&&this.each(function(n){var l=e(n);f.forEach(function(e){u[e]=u[e]||[];var f=t(n,e);0===f.length&&n.addEventListener(e,i,!1);var d={guid:l,type:e,handler:o,selector:r,elem:n};1===s&&(d.handler=function(e){a.fn.off.call(c,e.type,r,d.handler),o.apply(n,arguments)},d.handler.guid=o.guid),u[e].push(d)})}),this},one:function(e,t,n){return a.fn.on.call(this,e,t,n,1),this},off:function(e,n,r){if(null==r&&(r=n,n=void 0),""===a.trim(e))this.each(function(e){var t=e[c];if(t)for(var n in u)u[n]=u[n].filter(function(e){return e.guid!==t}),e.removeEventListener(n,i,!1)});else{var o=a.trim(e).split(/\s+/);this.each(function(e){var a=e[c];void 0!==a&&o.forEach(function(o){var s=u[o];s&&(r?u[o]=s.filter(function(e){return e.guid!==a||e.selector!==n||e.handler.guid!==r.guid}):u[o]=s.filter(function(e){return e.guid!==a||e.selector!==n}),0===t(e,o).length&&e.removeEventListener(o,i,!1))})})}return this},trigger:function(e,t){t=t||{bubbles:!0,cancelable:!0,detail:null};var i=n(e,t);return this.each(function(e){i.forEach(function(t){e.dispatchEvent(t)})}),this},addClass:function(e){return"string"==typeof e&&(e=a.trim(e))&&(e=e.split(/\s+/),this.each(function(t){var n=t.className.split(/\s+/);e.forEach(function(e){-1===n.indexOf(e)&&n.push(e)}),t.className=n.join(" ")})),this},removeClass:function(e){return"string"==typeof e&&(e=a.trim(e))&&(e=e.split(/\s+/),this.each(function(t){var n=t.className.split(/\s+/);e.forEach(function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}),t.className=n.join(" ")})),this},hasClass:function(e){if("string"==typeof e&&(e=a.trim(e))&&this.length>0){e=e.split(/\s+/);for(var t=!0,n=0;n<this.length;n++){var i=this[n];if(t=e.every(function(e){return-1!==i.className.split(/\s+/).indexOf(e)}),!t)return!1}return t}return!1},show:function(){return r(this,1),this},hide:function(){return r(this),this},html:function(e){if(!(arguments.length>0)){var t=this.first()[0];return t?t.innerHTML:""}return this.each(function(t){t.innerHTML=e+""}),this},text:function(e){if(!(arguments.length>0)){var t=this.first()[0];return t?t.textContent:""}return this.each(function(t){t.textContent=e+""}),this},empty:function(){return this.each(function(e){if(e.childNodes){var t=e.childNodes;t=a.arrayFrom(t),t.forEach(function(t){e.removeChild(t)})}}),this},remove:function(){return this.each(function(e){e.parentNode&&(a(e).off(),e.parentNode.removeChild(e))}),this},find:function(e){this.selector=e;var t=[];return this.each(function(n){try{var i=n.querySelectorAll(e);i=a.arrayFrom(i),t=t.concat(i)}catch(r){}}),a(t)}},a.fn.init=function(e){var t=this;if(null==e)return t;if(1===e.nodeType)return t[0]=e,t.selector="",t.length=1,t;if(/^\[object (NodeList|HTMLCollection)]$/.test(h.call(e))){var n=a.arrayFrom(e).filter(function(e){return 1===e.nodeType});return n.length>0&&(n.forEach(function(e,n){t[n]=e}),t.selector="",t.length=n.length),t}if(11===e.nodeType){var i=a.arrayFrom(e.children);return i.length>0&&(i.forEach(function(e,n){t[n]=e}),t.selector="",t.length=i.length),t}if(e===window||e===document)return t[0]=e,t.selector="",t.length=1,t;if("string"==typeof e&&(e=a.trim(e))){var r,o;try{r=document.querySelectorAll(e),o=r.length}catch(s){}if(o>0){for(var c=0;c<o;c++)t[c]=r[c];t.selector=e,t.length=o}}else a.isArray(e)&&(e=e.filter(function(e){return 1===e.nodeType}),e.forEach(function(e,n){t[n]=e}),t.length=e.length);return t},a.fn.init.prototype=a.fn,a});