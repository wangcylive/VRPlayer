!function(e){function t(e){if(/^Animation(Start|Iteration|End)$/.test(e)){if("undefined"!=typeof AnimationEvent)return e.toLowerCase();if("undefined"!=typeof WebKitAnimationEvent)return"webkit"+e}}function n(){return"undefined"!=typeof TransitionEvent?"transitionend":"undefined"!=typeof WebKitTransitionEvent?"webkitTransitionEnd":void 0}function i(e){e="number"==typeof e?e:parseFloat(e);var t=function(e){return e>=10?e:"0"+e};if(isNaN(e))return"00:00";var n,i,r,o="";return e=Math.ceil(e),e>=3600?(n=parseInt(e/3600),i=parseInt(e%3600/60),r=e%60,o=n+":"+t(i)+":"+t(r)):e>=60?(i=parseInt(e/60),r=e%60,o=t(i)+":"+t(r)):o="00:"+t(e),o}function r(e){function t(e){return"-"+e.toLowerCase()}return e.indexOf("-")!==-1?e.toLowerCase():e.replace(/^[A-Z]/,function(e){return e.toLowerCase()}).replace(/^(webkit|moz|ms|o)/i,function(e){return"-"+e}).replace(/[A-Z]/g,t)}function o(e){if(e&&1===e.nodeType){var t,n=0,i=B("transform"),r=function(){n+=6,n>=360&&(n=0),e.style[i]="rotate("+n+"deg)",t=setTimeout(r,1e3/60)},o=function(){clearTimeout(t),r()},a=function(){clearTimeout(t)};return{start:o,stop:a}}}function a(e,t){return new a.fn.init(e,t)}var s=e(),c=window,l=document,u=l.body,d=s(c),f=s(l),h=s(u),p="1.1.1",v="vp-zoomOut",m="active",y="vr-lock",g="is-fullscreen",E="is-mouseout",w="is-stalled",C="is-loading",b="is-playing",T="is-paused",x="is-ended",M="is-animation",k="is-error",A="is-load",F="is-ready",R=4e3,S=1e3,H=100,O=75,q=30,P=120,L=0,j=["您的浏览器不支持WebGL","您的浏览器不支持陀螺仪","您的浏览器不支持全屏","视频加载失败"],z=["","视频加载中止","网络错误","视频解码错误","视频资源未找到或资源不可用"],W=["当前网速较慢，建议先暂停等待缓冲再播放","视频加载错误，点击重新加载<i></i>","视频播放完毕，点击重新播放<i></i>"],V=function(){var e=navigator.userAgent;return{mobile:/Mobile|Android|Symbian/i.test(e),android:/Android|Adr/i.test(e),ios:/iPhone|iPad|iPod/i.test(e),symbian:/Symbian/i.test(e),windowsPhone:/Windows Phone/i.test(e),blankBerry:/BB/i.test(e),weChat:/MicroMessenger/i.test(e),qq:/MQQBrowser/i.test(e),uc:/UCBrowser/i.test(e),chrome:/Chrome\/[\d\.]+ Mobile Safari\/[\d\.]+$/i.test(e),firefox:/Firefox/i.test(e),ie:/MSIE/i.test(e),ie11:/Trident\/7\.0/i.test(e),edge:/Edge/i.test(e)}}(),X=function(){for(var e,t=l.createElement("canvas"),n=["webgl","experimental-webgl"],i=0;i<n.length;i++)try{if(e=t.getContext(n[i]))break}catch(r){}return!!e}(),N=X;(V.android&&(!V.chrome&&!V.firefox||V.qq||V.uc)||V.ie||V.ie11)&&(N=!1),c.requestAnimationFrame=c.requestAnimationFrame||c.mozRequestAnimationFrame||c.webkitRequestAnimationFrame||c.msRequestAnimationFrame,c.cancelAnimationFrame=c.cancelAnimationFrame||c.mozCancelAnimationFrame,s.createElem=function(e,t){if("string"==typeof e&&(e=s.trim(e))){var n=l.createElement(e);return"string"==typeof t&&(t=s.trim(t))&&(n.className=t),s(n)}};var B=function(){var e,t=["","-webkit-","-moz-","-ms-","-o-"],n=l.createElement("div"),i=n.style;return function(n){n=r(n);for(var o=0,a=t.length;o<a;o++)if(e="",e=t[o]?t[o]+n:n,e in i)return e}}(),D=function(){return!("undefined"==typeof AnimationEvent&&"undefined"==typeof WebKitAnimationEvent)}(),Y=(function(){return!("undefined"==typeof TransitionEvent&&"undefined"==typeof WebKitTransitionEvent)}(),function(){var e=!1;try{var t=l.createEvent("TouchEvent");t.initEvent("touchstart"),e=!0}catch(n){}return e}());d.one("deviceorientation",function(e){L=null!==e.alpha,a.fn.supportOrientation=L,a.fn.testedOrientation=!0,"function"==typeof a.deviceorientation&&a.deviceorientation(L)});var I=function(){function e(e){r&&"function"==typeof e&&(l.addEventListener(r,e,!1),h.push(e))}function t(){h.forEach(function(e){l.removeEventListener(r,e,!1)})}function n(){c?"function"==typeof s&&s.call(a):console.info("unable fullscreen")}function i(){"function"==typeof u&&u.call(l)}var r,o,a=l.documentElement,s=a.requestFullscreen||a.webkitRequestFullScreen||a.mozRequestFullScreen||a.msRequestFullscreen,c=l.fullscreenEnabled||l.webkitFullscreenEnabled||l.mozFullScreenEnabled||l.msFullscreenEnabled||!0,u=l.exitFullscroll||l.webkitCancelFullScreen||l.mozCancelFullScreen||l.msExitFullscreen,d=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],f=["fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement"];d.some(function(e){if("on"+e in l)return r=e}),f.some(function(e){if(e in l)return o=e});var h=[];return{on:e,off:t,request:n,exit:i,fullscreenElement:o}}(),G=function(){function e(e){"function"==typeof e&&(l.addEventListener(r,e,!1),o.push(e))}function t(){o.forEach(function(e){l.removeEventListener(r,e,!1)})}var n,i,r;void 0!==l.hidden?(n="hidden",r="visibilitychange",i="visibilityState"):void 0!==l.webkitHidden?(n="webkitHidden",r="webkitvisibilitychange",i="webkitVisibilityState"):void 0!==l.mozHidden?(n="mozHidden",r="mozvisibilitychange",i="mozVisibilityState"):void 0!==l.msHidden&&(n="msHidden",r="msvisibilitychange",i="msVisibilityState");var o=[];return{on:e,off:t,hidden:n,visibilityState:i}}(),$=B("transition"),K=n(),Q=t("AnimationEnd");a.jQuery=s,a.browser=V,a.fn=a.prototype={version:p,constructor:a,fullscreen:function(){var e=this.main;return e&&(e.hasClass(g)?(I.exit(),h.removeClass(y),e.removeClass(g)):(I.request(),h.addClass(y),e.addClass(g))),this},setSrc:function(e){var t=this.video;if(t){t.attr("src",e),this.main.removeClass(k+" "+b).addClass(T),this.main[0].querySelector(".message").innerHTML="";try{t[0].load(),t[0].pause(),t[0].currentTime=0,t.trigger("timeupdate")}catch(n){}}},toast:function(){function e(e){return i.text(e).show(),o=1,clearTimeout(n),n=setTimeout(function(){i.hide(),o=0},r)}function t(){o&&(clearTimeout(n),i.hide(),o=0)}var n,i=s("#vpToast"),r=4e3,o=0;return void 0===i[0]&&(i=s.createElem("div","vp-toast").attr("id","vpToast").hide(),h.append(i)),l.addEventListener("click",t,!0),l.addEventListener("touchend",t,!0),e}(),supportWebGL:X,supportVR:N,supportOrientation:L},a.fn.init=function(e,t){function n(){nt.play(),qe.off("click",n)}function r(){qe.addClass(w),Xe.text(W[0]),clearTimeout(ot),ot=setTimeout(function(){Xe.text(""),qe.removeClass(w)},5e3),Pe.off("stalled",r)}function a(e){e.wheelDeltaY?Ee.fov-=.05*e.wheelDeltaY:e.wheelDelta?Ee.fov-=.05*e.wheelDelta:e.detail&&(Ee.fov+=1*e.detail),Ee.fov=Math.min(P,Math.max(q,Ee.fov)),re.fov=Ee.fov,re.updateProjectionMatrix()}function c(){return re.aspect=e.clientWidth/e.clientHeight,re.updateProjectionMatrix(),ne.setSize(e.clientWidth,e.clientHeight),ne.render(ie,re),Ee}function u(t){Re=0,Se=e.clientWidth,He=e.clientHeight;var n=t.targetTouches,i=n[0];if(1===n.length&&void 0===pe&&(we=1,pe=i.identifier,Te=Ce,xe=be,Me=i.clientX,ke=i.clientY),2===n.length){we=0;var r=n[0],o=n[1],a=Math.abs(r.clientX-o.clientX),s=Math.abs(r.clientY-o.clientY);ve=Math.sqrt(Math.pow(a,2)+Math.pow(s,2)),me=re.fov}}function p(e){e.preventDefault(),Re=1;var t=e.targetTouches,n=e.changedTouches,i=n[0];if(pe===i.identifier&&we&&(Ae=Me-i.clientX,Fe=i.clientY-ke,Ce=Ae/He*1.5*Ee.fov/O+Te,be=Fe/He*1.5*Ee.fov/O+xe),t.length>1){var r=t[0],o=t[1],a=Math.abs(r.clientX-o.clientX),s=Math.abs(r.clientY-o.clientY),c=Math.sqrt(Math.pow(a,2)+Math.pow(s,2))-ve;Ee.fov=me-.2*c,Ee.fov=Math.min(P,Math.max(q,Ee.fov)),re.fov=Ee.fov,re.updateProjectionMatrix()}}function V(e){var t=e.targetTouches,n=t[0],i=e.changedTouches,r=i[0];pe===r.identifier&&(we=0,pe=void 0),1===t.length&&(we=1,pe=n.identifier,Te=Ce,xe=be,Me=n.clientX,ke=n.clientY)}function X(t){we=1,Re=0,Te=Ce,xe=be,Me=t.clientX,ke=t.clientY,Se=e.clientWidth,He=e.clientHeight}function B(e){e.preventDefault(),Re=1,we&&(Ae=Me-e.clientX,Fe=e.clientY-ke,Ce=Ae/He*1.5*Ee.fov/O+Te,be=Fe/He*1.5*Ee.fov/O+xe)}function U(e){we=0}function Z(){clearTimeout(ye),ge=0,et.show(),setTimeout(function(){et.css($,"all .4s").css("opacity",1)},10),ye=setTimeout(function(){et.css($,"all .6s").css("opacity",0),ge=1},4e3)}function _(){return Ee.isVRView=1,ne=ae,I.request(),L&&(fe.connect(),Ee.isOrientation=1),h.addClass(y),qe.addClass("is-vr"),et.show(),clearTimeout(ye),ye=setTimeout(function(){et.css($,"all .6s").css("opacity",0),ge=1},3e3),qe.on("click",Z),c(),Ee}function J(){return Ee.isVRView=0,ne=oe,fe.disconnect(),Ee.isOrientation=0,tt.removeClass(m),I.exit(),h.removeClass(y),qe.removeClass("is-vr"),clearTimeout(ye),et.hide(),qe.off("click",Z),_e.removeClass(m),c(),Ee}function ee(){return L?(Ee.isOrientation?(fe.disconnect(),tt.removeClass(m)):(fe.connect(),tt.addClass(m)),Ee.isOrientation=!Ee.isOrientation):Ee.toast(j[1]),Ee}if(!e||1!==e.nodeType)throw new Error("first argument must be Element");if(!t||"string"!=typeof t.src)throw new Error("second argument must be Object and attribute src must be String");t="object"==typeof t?t:{};var te={vr:!0};!function(){var e;for(e in t)t.hasOwnProperty(e)&&(te[e]=t[e])}();var ne,ie,re,oe,ae,se,ce,le,ue,de,fe,he,pe,ve,me,ye,ge,Ee=this,we=0,Ce=0,be=0,Te=0,xe=0,Me=0,ke=0,Ae=0,Fe=0,Re=!1,Se=e.clientWidth,He=e.clientHeight,Oe=te.vr;N&&"object"==typeof THREE||(Oe=!1),Ee.isVR=Oe;var qe=s(e),Pe=s.createElem("video","vp-video"),Le=s.createElem("div","vp-ratio"),je=s.createElem("div","vp-ui"),ze=s.createElem("div","play"),We=s.createElem("div","pause"),Ve=s.createElem("div","waiting"),Xe=s.createElem("div","message"),Ne=s.createElem("div","vp-controls"),Be=s.createElem("div","vp-timeline"),De=s.createElem("div","vp-buffer"),Ye=s.createElem("div","vp-elapsed"),Ie=s.createElem("div","vp-seek"),Ge=s.createElem("div","vp-seek-time"),$e=s.createElem("div","vp-handle"),Ke=s.createElem("button","vp-play"),Qe=s.createElem("div","vp-time"),Ue=s.createElem("span","vp-current"),Ze=s.createElem("span","vp-duration"),_e=s.createElem("button","vr-fullscreen"),Je=s.createElem("button","vp-stereo"),et=s.createElem("div","vp-exit-vr"),tt=s.createElem("button","vp-orientation");Pe.attr({preload:"none","webkit-playsinline":"",playsinline:"","x-webkit-airplay":"allow"}),Pe.attr("src",te.src),te.ratio&&Le.css("padding-top",100*te.ratio+"%"),qe.addClass("video-player").append(Le),"string"==typeof te.poster&&(te.poster=s.trim(te.poster))&&qe.css("background-image","url("+te.poster+")"),Ve.html('<i class="icon-loading vp-rotate"></i>'),je.append(ze).append(We).append(Ve).append(Xe),qe.append(je),Ye.append(Ie),Be.append(De).append(Ye).append(Ge),Qe.append(Ue).append("/").append(Ze),Ne.append(Be).append($e),$e.append(Ke).append(Qe),qe.append(Ne);var nt=Pe[0];if("function"!=typeof nt.canPlayType)return qe.addClass(k),Xe.html("您的浏览器不支持html5 video！"),this;Ee.video=Pe,Ee.main=qe,Ue.text("00:00"),Ze.text("00:00"),Oe?(Pe.attr("crossorigin","anonymous"),$e.append(tt).append(_e).append(Je),qe.append(et),et.text("退出VR视角"),this.fov=O,this.isVRView=0,this.isOrientation=0):(qe.append(Pe),$e.append(_e)),te.src&&Pe.attr("src",te.src);var it,rt=0;D||(it=o(Ve[0].childNodes[0]));var ot,at,st,ct,lt=function(){function e(){clearTimeout(n),qe.removeClass(E)}function t(){clearTimeout(n),n=setTimeout(function(){nt.paused||qe.addClass(E)},R)}var n;return{clear:e,set:t}}(),ut=function(){function e(){clearTimeout(n),Ge.show()}function t(){clearTimeout(n),n=setTimeout(function(){Ge.hide()},S)}var n;return{clear:e,set:t}}(),dt=1,ft=Be[0].getBoundingClientRect(),ht=function(){var e=0;return function(t){if(t.preventDefault(),e++,0===e%2){lt.clear();var n="touchmove"===t.type?t.targetTouches[0].clientX:t.clientX,r=n-at;ct=r/ft.width*100+st,ct<0?ct=0:ct>100&&(ct=100),Ye.css("width",ct+"%");var o=i(nt.duration*ct/100);Ue.text(o),Ge.text(o),ut.clear();var a=Ge[0].offsetWidth,s=ft.width*ct/100-a/2;s<0?s=0:s>ft.width-a&&(s=ft.width-a),Ge.css("left",s+"px")}}}(),pt=function(){var e=0;return function(t){if(t.preventDefault(),dt&&(e++,0===e%2)){var n=t.clientX-ft.left;n<0?n=0:n>ft.width&&(n=ft.width);var r=n/ft.width;Ge.text(i(nt.duration*r)),Ge.show();var o=Ge[0].offsetWidth,a=t.clientX-ft.left-o/2;a<0?a=0:a>ft.width-o&&(a=ft.width-o),Ge.css("left",a+"px")}}}(),vt=0;if(Pe.on("error",function(){var e=this,t=e.error.code;qe.removeClass("is-loading is-playing is-paused is-stalled").addClass(k),1===t||2===t?(qe.addClass(A),Xe.html(W[1]),je.one("click",function(){e.pause(),e.load(),e.play(),Xe.html(""),Ue.text("00:00"),De.css("width","0%"),Ye.css("width","0%"),qe.removeClass(k+" "+A)})):Xe.html(z[t])}).on("ended",function(){var e=this;e.pause(),qe.addClass(x),Xe.html(W[2]),je.one("click",function(){e.play()}),Pe.one("play",function(){Xe.html(""),Ue.text("00:00"),De.css("width","0%"),Ye.css("width","0%"),qe.removeClass(x)})}).on("durationchange",function(){var e=this.duration;Ee.duration=e,Ze.text(i(e))}).on("loadedmetadata",function(){var e=this.duration;Ze.text(i(e)),Ee.duration=e}).on("loadeddata",function(){this.controls=!1,Ee.readyState=this.readyState}).one("play",function(){qe.off("click",n),D?qe.addClass(M+" "+C):(ze.hide(),qe.addClass(C),it.start()),Pe.one("timeupdate",function(){rt=1,qe.removeClass(C).addClass(F+" "+b),D||it.stop(),lt.set()})}).on("waiting",function(){qe.addClass(C),D||it.start()}).on("progress",function(){var e,t,n=this.buffered,i=n.length,r=nt.currentTime,o=0;if(i>0)for(o;o<i;o++)if(e=n.start(o),t=n.end(o),r>=e&&r<=t){De.css("width",n.end(o)/Ee.duration*100+"%");break}}).on("timeupdate",function(){if(rt&&dt){var e=this.currentTime;Ue.text(i(e)),Ye.css("width",(e/nt.duration*100||0)+"%")}}).on("playing",function(){rt&&(qe.removeClass(C).addClass(b),Pe.on("stalled",r),D||(ze.hide(),it.stop()))}).on("seeking",function(){qe.addClass(C),D||it.start()}).on("seeked",function(){qe.removeClass(C),D||it.stop(),this.paused||qe.addClass(b)}).on("play",function(){qe.removeClass(T),D&&(vt=1,ze.show().addClass(v),qe.addClass(M),We.hide())}).on("pause",function(){rt?(qe.addClass(T).removeClass(b),this.ended||(D?(vt=2,We.show().addClass(v),qe.addClass(M),ze.hide()):ze.show())):(qe.removeClass(M+" "+C),ze.show().removeClass(v),Pe.one("play",function(){D?qe.addClass(M+" "+C):(ze.hide(),qe.addClass(C),it.start())}),qe.on("click",n))}),qe.on("click",n),Ke.on("click",function(){nt.error||(nt.paused?nt.play():nt.pause())}),ze.on(Q,function(){1===vt&&(ze.hide().removeClass(v),qe.removeClass(M),!rt&&nt.paused&&ze.show(),vt=0)}),We.on(Q,function(){2===vt&&(We.hide().removeClass(v),qe.removeClass(M),vt=0)}),Ie.on("mousedown",function(e){dt=0,at=e.clientX,ct=void 0;var t=Ye[0].style.getPropertyValue("width");st=t?parseFloat(t):0,ft=Be[0].getBoundingClientRect(),f.on("mousemove",ht).one("mouseup",function(){dt=1,void 0!==ct&&(nt.currentTime=nt.duration*ct/100),lt.set(),ut.set(),f.off("mousemove",ht)})}).on("touchstart",function(e){dt=0,at=e.targetTouches[0].clientX;var t=Ye[0].style.getPropertyValue("width");st=t?parseFloat(t):0,ft=Be[0].getBoundingClientRect(),f.on("touchmove",ht).one("touchend",function(){dt=1,nt.currentTime=nt.duration*ct/100,lt.set(),ut.set(),f.off("touchmove",ht)})}),Be.on("click",function(e){var t=this.getBoundingClientRect(),n=(e.clientX-t.left)/this.offsetWidth;Ye.css("width",100*n+"%");var r=nt.duration*n,o=i(r);Ue.text(o),Ge.text(o),nt.currentTime=r,ut.clear();var a=Ge[0].offsetWidth,s=e.clientX-t.left-a/2;s<0?s=0:s>t.width-a&&(s=t.width-a),Ge.css("left",s+"px"),ut.set()}),Y||(Be.on("mouseover",function(){ft=this.getBoundingClientRect()}).on("mouseout",function(){dt&&Ge.hide()}),Be.on("mousemove",pt)),G.on(function(){l[G.hidden]&&(nt.pause(),qe.removeClass(E))}),Y||qe.on("mousemove",function(){lt.clear(),lt.set()}),Y?(je.on("click",function(){nt.error||Re||(nt.paused?(qe.removeClass(E),nt.play()):qe.hasClass(E)?qe.removeClass(E):nt.pause(),rt&&lt.set())}),Ne.on("touchstart",function(){lt.clear(),lt.set()})):je.on("click",function(){nt.error||Re||(nt.paused?nt.play():nt.pause())}),_e.on("click",function(){qe.hasClass(g)?(I.exit(),h.removeClass(y),qe.removeClass(g),_e.removeClass(m)):(I.request(),h.addClass(y),qe.addClass(g),_e.addClass(m)),Oe&&c()}),I.on(function(){l[I.fullscreenElement]!==l.documentElement&&(h.removeClass(y),qe.removeClass(g),_e.removeClass(m)),Oe&&c()}),et.on(K,function(){1===ge&&(et.hide(),ge=0)},!1),Oe){ne=oe=new THREE.WebGLRenderer,ae=new THREE.StereoEffect(ne),re=new THREE.PerspectiveCamera(Ee.fov,e.clientWidth/e.clientHeight,1,1e3),fe=new THREE.DeviceOrientationControls(re),ie=new THREE.Scene,ue=new THREE.Texture(nt),ue.generateMipmaps=!1,ue.minFilter=THREE.LinearFilter,ue.format=THREE.RGBAFormat,le=new THREE.MeshBasicMaterial({map:ue}),ce=new THREE.SphereBufferGeometry(H,60,60),ce.scale(-1,1,1),se=new THREE.Mesh(ce,le),ie.add(se),ne.setSize(e.clientWidth,e.clientHeight),ne.setClearColor(6710886),ne.setPixelRatio(window.devicePixelRatio||1),de=ne.domElement,s(de).addClass("vp-video"),qe.append(de),ne.render(ie,re),d.on("resize",c),je.on("mousedown",X).on("touchstart",u).on("mousemove",B).on("touchmove",p),je.on("mouseup mouseout touchcancel",U).on("touchend",V),Je.on("click",_),tt.on("click",ee),et.on("click",J),qe.on("mousewheel MozMousePixelScroll",a);var mt=function(){be=Math.max(-Math.PI/2,Math.min(Math.PI/2,be));var e=H*Math.cos(Ce)*Math.cos(be),t=H*Math.sin(be),n=H*Math.sin(Ce)*Math.cos(be),i=new THREE.Vector3(e,t,n);nt.readyState>=nt.HAVE_CURRENT_DATA&&(ue.needsUpdate=!0),Ee.isOrientation?fe.update():re.lookAt(i),ne.render(ie,re),he=requestAnimationFrame(mt)};mt(),Ee.resize=c,Ee.requestStereo=_,Ee.exitStereo=J,Ee.changeOrientation=ee}},a.prototype.init.prototype=a.prototype,"function"==typeof define&&define.amd?define(["three","three-extend"],function(){return a}):"object"==typeof exports?module.exports=a:window.videoVR=a}(function(){function e(e){return e.hasOwnProperty(c)||Object.defineProperty(e,c,{value:++l}),e[c]}function t(e,t){if(e.hasOwnProperty(c)){var n=e[c],i=u[t];if(i&&(i=i.filter(function(e){return e.guid===n}),i.length>0))return i}return[]}function n(e,t){var n=[];return t=t||{bubbles:!1,cancelable:!1,detail:null},"string"==typeof e&&(e=a.trim(e))&&(e=e.split(/\s+/),e.forEach(function(e){n.push(new CustomEvent(e,t))})),n}function i(e){var t=this;u[e.type]&&u[e.type].filter(function(e){return e.guid===t[c]}).forEach(function(n){if(null==n.selector)n.handler.call(t,e);else{var i=[];try{i=h.slice.call(t.querySelectorAll(n.selector),0)}catch(r){}for(var o=e.target;o!==t;)-1!==i.indexOf(o)&&n.handler.call(o,e),o=o.parentNode}})}function r(e,t){for(var n,i,r,s=0;s<e.length;s++)n=e[s],i=n.style,r=n.nodeName,t?(i.display="",a.isHidden(n)?d.hasOwnProperty(r)?i.display=d[r]:i.display=d[r]=o(n.nodeName):d[r]=a.css(n,"display")):a.isHidden(n)||(d[r]=a.css(n,"display"),i.display="none")}function o(e){var t=document.createElement(e);document.body.appendChild(t);var n=a.css(t,"display");return document.body.removeChild(t),n}var a=function(e){return new a.fn.init(e)},s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,c="JQ"+(Math.random()+"").replace(/\D/g,""),l=0;a.expando=c;var u={},d={};!function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}return"function"!=typeof window.CustomEvent&&(e.prototype=window.Event.prototype,void(window.CustomEvent=e))}();var f=Object.prototype.toString,h=Array.prototype;return a.css=function(e,t){if(e&&1===e.nodeType)return window.getComputedStyle(e,null)[t]},a.isHidden=function(e){return"none"===a.css(e,"display")},a.trim=function(e){return null==e?"":(e+"").replace(s,"")},a.isArray=function(e){return Array.isArray(e)},a.isObject=function(e){return"[object Object]"===f.call(e)},a.fn=a.prototype={constructor:a,eq:function(e){if("number"==typeof e){var t=this[e];return a.fn.init(t)}return this},first:function(){return a.fn.eq.call(this,0)},last:function(){var e=this.length-1;return a.fn.eq.call(this,e)},append:function(e){var t=document.createDocumentFragment();return e instanceof a||/^\[object (NodeList|HTMLCollection)]$/.test(f.call(e))?this.last()[0]&&(h.slice.call(e).forEach(function(e){t.appendChild(e)}),this.last()[0].appendChild(t)):"string"==typeof e?this.each(function(t){t.appendChild(document.createTextNode(e))}):1!==e.nodeType&&11!==e.nodeType||this.last()[0]&&this.last()[0].appendChild(e),t=null,this},attr:function(e,t){if(a.isObject(e))this.each(function(t){for(var n in e)if(e.hasOwnProperty(n))try{t.setAttribute(n,e[n])}catch(i){}});else if("string"==typeof e&&(e=a.trim(e))){if(arguments.length<=1){var n=this.first()[0];return n?n.getAttribute(e):null}this.each(function(n){n.setAttribute(e,t+"")})}return this},prop:function(e,t){if(a.isObject(e))this.each(function(t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])});else if("string"==typeof e&&(e=a.trim(e))){if(arguments.length<=1){var n=this.first()[0];return n?n[e]:null}this.each(function(n){n[e]=t})}return this},css:function(e,t){if(a.isObject(e))this.each(function(t){for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n])});else if("string"==typeof e&&(e=a.trim(e))){if(1===arguments.length){var n=this.first()[0];return a.css(n,e)}arguments.length>=2&&this.each(function(n){n.style[e]=t})}return this},each:function(e){var t=this.length;if(t>0&&"function"==typeof e){var n,i=0;for(i;i<t;i++)n=this[i],e.call(n,n,i)}return this},on:function(n,r,o,s){var c=this;if(null==o&&(o=r,r=void 0),!o)return this;o.hasOwnProperty("guid")||(o.guid=++l);var d=a.trim(n).split(/\s+/);return d.length>0&&this.each(function(n){var l=e(n);d.forEach(function(e){u[e]=u[e]||[];var d=t(n,e);0===d.length&&n.addEventListener(e,i,!1);var f={guid:l,type:e,handler:o,selector:r,elem:n};1===s&&(f.handler=function(e){a.fn.off.call(c,e.type,r,f.handler),o.apply(n,arguments)},f.handler.guid=o.guid),u[e].push(f)})}),this},one:function(e,t,n){return a.fn.on.call(this,e,t,n,1),this},off:function(e,n,r){null==r&&(r=n,n=void 0);var o=a.trim(e).split(/\s+/);return o.length>0&&this.each(function(e){var a=e[c];void 0!==a&&o.forEach(function(o){var s=u[o];s&&(r?u[o]=s.filter(function(e){return e.guid!==a||e.selector!==n||e.handler.guid!==r.guid}):u[o]=s.filter(function(e){return e.guid!==a||e.selector!==n}),0===t(e,o).length&&e.removeEventListener(o,i,!1))})}),this},trigger:function(e,t){t=t||{bubbles:!0,cancelable:!0,detail:null};var i=n(e,t);return this.each(function(e){i.forEach(function(t){e.dispatchEvent(t)})}),this},addClass:function(e){return"string"==typeof e&&(e=a.trim(e))&&(e=e.split(/\s+/),this.each(function(t){var n=t.className.split(/\s+/);e.forEach(function(e){-1===n.indexOf(e)&&n.push(e)}),t.className=n.join(" ")})),this},removeClass:function(e){return"string"==typeof e&&(e=a.trim(e))&&(e=e.split(/\s+/),this.each(function(t){var n=t.className.split(/\s+/);e.forEach(function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}),t.className=n.join(" ")})),this},hasClass:function(e){if("string"==typeof e&&(e=a.trim(e))&&this.length>0){e=e.split(/\s+/);for(var t=!0,n=0;n<this.length;n++){var i=this[n];if(t=e.every(function(e){return-1!==i.className.split(/\s+/).indexOf(e)}),!t)return!1}return t}return!1},show:function(){return r(this,1),this},hide:function(){return r(this),this},html:function(e){if(!(arguments.length>0)){var t=this.first()[0];return t?t.innerHTML:""}return this.each(function(t){t.innerHTML=e+""}),this},text:function(e){if(!(arguments.length>0)){var t=this.first()[0];return t?t.textContent:""}return this.each(function(t){t.textContent=e+""}),this}},a.fn.init=function(e){var t=this;if(null==e)return t;if(1===e.nodeType)return t[0]=e,t.selector="",t.length=1,t;if(/^\[object (NodeList|HTMLCollection)]$/.test(f.call(e))){var n=Array.prototype.slice.call(e).filter(function(e){return 1===e.nodeType});return n.length>0&&(n.forEach(function(e,n){t[n]=e}),t.selector="",t.length=n.length),t}if(11===e.nodeType){var i=Array.prototype.slice.call(e.children);return i.length>0&&(i.forEach(function(e,n){t[n]=e}),t.selector="",t.length=i.length),t}if(e===window||e===document)return t[0]=e,t.selector="",t.length=1,t;if("string"==typeof e&&(e=a.trim(e))){var r,o;try{r=document.querySelectorAll(e),o=r.length}catch(s){}if(o>0){for(var c=0;c<o;c++)t[c]=r[c];t.selector=e,t.length=o}}return t},a.fn.init.prototype=a.fn,a});